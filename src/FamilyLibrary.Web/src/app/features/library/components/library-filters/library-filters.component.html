<div class="flex flex-wrap items-center gap-2">
  <span class="p-input-icon-left">
    <i class="pi pi-search"></i>
    <input
      type="text"
      pInputText
      [value]="searchInputValue()"
      (input)="onSearchInput($event)"
      (keyup.enter)="onSearch()"
      placeholder="Search..."
      class="w-56"
    />
  </span>

  <p-select
    [options]="roleOptions()"
    [ngModel]="selectedRoleId()"
    (ngModelChange)="onRoleChange($event)"
    placeholder="Role"
    [showClear]="true"
    optionLabel="label"
    optionValue="value"
    styleClass="w-40"
  />

  <p-select
    [options]="categoryOptions()"
    [ngModel]="selectedCategoryId()"
    (ngModelChange)="onCategoryChange($event)"
    placeholder="Category"
    [showClear]="true"
    optionLabel="label"
    optionValue="value"
    styleClass="w-40"
  />

  <p-select
    [options]="typeOptions"
    [ngModel]="selectedType()"
    (ngModelChange)="onTypeChange($event)"
    placeholder="Type"
    [showClear]="true"
    optionLabel="label"
    optionValue="value"
    styleClass="w-32"
  />

  <app-tag-multi-select
    [tags]="tags()"
    [selectedTagIds]="selectedTagIds()"
    (selectedTagIdsChange)="onTagsChange($event)"
    placeholder="Tags"
  />

  @if (hasActiveFilters()) {
    <button
      type="button"
      class="text-xs text-[var(--text-muted)] hover:text-[var(--text-secondary)] transition-colors px-2 py-1"
      (click)="onClear()"
    >
      Clear
    </button>
  }
</div>
